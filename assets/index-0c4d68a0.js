(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function ce(){}function Oe(e){return e()}function xe(){return Object.create(null)}function oe(e){e.forEach(Oe)}function Te(e){return typeof e=="function"}function Pe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ae(e){return Object.keys(e).length===0}function r(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function Be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function q(e){return document.createTextNode(e)}function y(){return q(" ")}function te(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function C(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Fe(e){return Array.from(e.childNodes)}function B(e,t){t=""+t,e.data!==t&&(e.data=t)}function W(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}let fe;function se(e){fe=e}function He(){if(!fe)throw new Error("Function called outside component initialization");return fe}function Ue(e){He().$$.on_mount.push(e)}function We(e){He().$$.after_update.push(e)}const ee=[],Ee=[];let ne=[];const Le=[],De=Promise.resolve();let qe=!1;function Je(){qe||(qe=!0,De.then(je))}function ve(e){ne.push(e)}const ge=new Set;let $=0;function je(){if($!==0)return;const e=fe;do{try{for(;$<ee.length;){const t=ee[$];$++,se(t),Ke(t.$$)}}catch(t){throw ee.length=0,$=0,t}for(se(null),ee.length=0,$=0;Ee.length;)Ee.pop()();for(let t=0;t<ne.length;t+=1){const n=ne[t];ge.has(n)||(ge.add(n),n())}ne.length=0}while(ee.length);for(;Le.length;)Le.pop()();qe=!1,ge.clear(),se(e)}function Ke(e){if(e.fragment!==null){e.update(),oe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}function Ge(e){const t=[],n=[];ne.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),ne=t}const ye=new Set;let X;function Xe(){X={r:0,c:[],p:X}}function Ye(){X.r||oe(X.c),X=X.p}function ue(e,t){e&&e.i&&(ye.delete(e),e.i(t))}function Ce(e,t,n,o){if(e&&e.o){if(ye.has(e))return;ye.add(e),X.c.push(()=>{ye.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Ze(e){e&&e.c()}function Ie(e,t,n,o){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),o||ve(()=>{const a=e.$$.on_mount.map(Oe).filter(Te);e.$$.on_destroy?e.$$.on_destroy.push(...a):oe(a),e.$$.on_mount=[]}),l.forEach(ve)}function Ve(e,t){const n=e.$$;n.fragment!==null&&(Ge(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){e.$$.dirty[0]===-1&&(ee.push(e),Je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ze(e,t,n,o,i,l,a,m=[-1]){const p=fe;se(e);const u=e.$$={fragment:null,ctx:[],props:l,update:ce,not_equal:i,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:xe(),dirty:m,skip_bound:!1,root:t.target||p.$$.root};a&&a(u.root);let s=!1;if(u.ctx=n?n(e,t.props||{},(h,Q,...S)=>{const w=S.length?S[0]:Q;return u.ctx&&i(u.ctx[h],u.ctx[h]=w)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](w),s&&$e(e,h)),Q}):[],u.update(),s=!0,oe(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){const h=Fe(t.target);u.fragment&&u.fragment.l(h),h.forEach(k)}else u.fragment&&u.fragment.c();t.intro&&ue(e.$$.fragment),Ie(e,t.target,t.anchor,t.customElement),je()}se(p)}class Re{$destroy(){Ve(this,1),this.$destroy=ce}$on(t,n){if(!Te(n))return ce;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Me(e,t,n){const o=e.slice();return o[7]=t[n],o[9]=n,o}function Ne(e){let t,n,o,i,l=e[7]+"",a,m,p;return{c(){t=f("div"),n=f("input"),o=y(),i=f("label"),a=q(l),C(n,"type","checkbox"),C(n,"id","proposition"),C(n,"name","proposition"),n.value=e[9],C(i,"for",e[9]),C(t,"class","proposition")},m(u,s){O(u,t,s),r(t,n),r(t,o),r(t,i),r(i,a),m||(p=te(n,"click",e[4]),m=!0)},p(u,s){s&4&&l!==(l=u[7]+"")&&B(a,l)},d(u){u&&k(t),m=!1,p()}}}function et(e){let t,n,o,i,l,a,m,p,u,s,h=e[1].index+"",Q,S,w,T,P,V,b,E,j,c,_=e[2],x=[];for(let g=0;g<_.length;g+=1)x[g]=Ne(Me(e,_,g));return{c(){t=f("main"),n=f("div"),o=f("h1"),i=q("Question "),l=q(e[0]),a=q("/"),m=q(e[3]),p=y(),u=f("h3"),s=q("id : "),Q=q(h),S=y(),w=f("div"),T=f("div"),P=y(),V=f("br"),b=y(),E=f("div");for(let g=0;g<x.length;g+=1)x[g].c();j=y(),c=f("br"),C(T,"id","questionTexte"),C(E,"class","propositions"),C(w,"class","enonce"),C(n,"class","question")},m(g,I){O(g,t,I),r(t,n),r(n,o),r(o,i),r(o,l),r(o,a),r(o,m),r(n,p),r(n,u),r(u,s),r(u,Q),r(n,S),r(n,w),r(w,T),r(w,P),r(w,V),r(w,b),r(w,E);for(let v=0;v<x.length;v+=1)x[v]&&x[v].m(E,null);r(E,j),r(E,c)},p(g,[I]){if(I&1&&B(l,g[0]),I&8&&B(m,g[3]),I&2&&h!==(h=g[1].index+"")&&B(Q,h),I&20){_=g[2];let v;for(v=0;v<_.length;v+=1){const J=Me(g,_,v);x[v]?x[v].p(J,I):(x[v]=Ne(J),x[v].c(),x[v].m(E,j))}for(;v<x.length;v+=1)x[v].d(1);x.length=_.length}},i:ce,o:ce,d(g){g&&k(t),Be(x,g)}}}function tt(e,t,n){let{question:o}=t,{propositions:i}=t,{onSelectedValue:l}=t,{nbQuestions:a}=t,{cpt:m=0}=t;function p(s){const h=s.target.value;l(h)}function u(){var s=document.getElementById("questionTexte");s.innerHTML=o.texte,MathJax.typesetPromise([s]).catch(h=>console.error(h))}return We(()=>{u(),document.querySelectorAll("input[type=checkbox]").forEach(s=>{s.checked=!1}),n(0,m++,m)}),e.$$set=s=>{"question"in s&&n(1,o=s.question),"propositions"in s&&n(2,i=s.propositions),"onSelectedValue"in s&&n(5,l=s.onSelectedValue),"nbQuestions"in s&&n(3,a=s.nbQuestions),"cpt"in s&&n(0,m=s.cpt)},[m,o,i,a,p,l,u]}class nt extends Re{constructor(t){super(),ze(this,t,tt,et,Pe,{question:1,propositions:2,onSelectedValue:5,nbQuestions:3,cpt:0,compileFormuleMathematique:6})}get compileFormuleMathematique(){return this.$$.ctx[6]}}function ot(e){let t,n,o,i,l,a,m,p,u,s,h,Q,S,w,T,P,V,b,E,j;return{c(){t=f("h1"),t.textContent="Bienvenue !",n=y(),o=f("h3"),i=q("Le quiz contient "),l=q(e[7]),a=q(" questions. "),m=f("br"),p=q(`
        Si vous etes prêt appuyez sur le bouton commencer !`),u=q(`

      Entrez votre pseudo (facultatif)
      `),s=f("br"),h=y(),Q=f("input"),S=y(),w=f("br"),T=y(),P=f("br"),V=y(),b=f("button"),b.textContent="Commencer",C(Q,"type","text"),W(Q,"border-radius","5%"),C(Q,"maxlength","15"),C(b,"id","btnStart")},m(c,_){O(c,t,_),O(c,n,_),O(c,o,_),r(o,i),r(o,l),r(o,a),r(o,m),r(o,p),O(c,u,_),O(c,s,_),O(c,h,_),O(c,Q,_),O(c,S,_),O(c,w,_),O(c,T,_),O(c,P,_),O(c,V,_),O(c,b,_),E||(j=te(b,"click",e[12]),E=!0)},p(c,_){_[0]&128&&B(l,c[7])},d(c){c&&k(t),c&&k(n),c&&k(o),c&&k(u),c&&k(s),c&&k(h),c&&k(Q),c&&k(S),c&&k(w),c&&k(T),c&&k(P),c&&k(V),c&&k(b),E=!1,j()}}}function ke(e){let t,n;return t=new nt({props:{question:e[0][e[1]],propositions:e[2][e[1]],onSelectedValue:e[10],nbQuestions:e[0].length}}),{c(){Ze(t.$$.fragment)},m(o,i){Ie(t,o,i),n=!0},p(o,i){const l={};i[0]&3&&(l.question=o[0][o[1]]),i[0]&6&&(l.propositions=o[2][o[1]]),i[0]&1&&(l.nbQuestions=o[0].length),t.$set(l)},i(o){n||(ue(t.$$.fragment,o),n=!0)},o(o){Ce(t.$$.fragment,o),n=!1},d(o){Ve(t,o)}}}function rt(e){let t,n,o,i,l,a,m,p,u,s,h,Q,S,w,T,P,V,b,E,j,c,_,x,g,I,v,J,re,ae,de,pe,Y,me,he,be,K,d,M,D,H,R,z,Z,le,ie,F,Se,we,U,_e,Qe,G=e[9]!=null&&ot(e),L=e[0][e[1]]&&ke(e);return{c(){t=f("main"),n=f("div"),G&&G.c(),o=y(),i=f("div"),L&&L.c(),l=y(),a=f("button"),a.textContent="Next",m=y(),p=f("div"),u=q("Score : "),s=q(e[3]),h=q(" / 20"),Q=y(),S=f("div"),w=q("Temps: "),T=q(e[8]),P=q("s"),V=y(),b=f("div"),E=q("Nombre de bonne réponse : "),j=q(e[4]),c=y(),_=f("br"),x=q(` Nombre de mauvaise
    réponse : `),g=q(e[5]),I=y(),v=f("br"),J=q(" Nombre de question sauté : "),re=q(e[6]),ae=y(),de=f("br"),pe=y(),Y=f("div"),me=y(),he=f("br"),be=y(),K=f("button"),K.textContent="Voir le corrigé",d=y(),M=f("br"),D=y(),H=f("button"),H.textContent="Caché le corrigé",R=y(),z=f("br"),Z=y(),le=f("br"),ie=y(),F=f("button"),F.textContent="Rejouer",Se=y(),we=f("div"),C(n,"class","accueil"),C(i,"class","question"),W(i,"display","none"),C(a,"id","btnNext"),W(a,"display","none"),C(p,"class","score"),W(p,"display","none"),C(S,"class","timer"),W(S,"display","none"),C(b,"class","detailsQuestions"),W(b,"display","none"),C(Y,"id","ligneEnonceCompile"),C(K,"id","voirCorrection"),W(K,"display","none"),C(H,"id","cacherCorrection"),W(H,"display","none"),C(F,"id","btnRejouer"),W(F,"display","none")},m(N,A){O(N,t,A),r(t,n),G&&G.m(n,null),r(t,o),r(t,i),L&&L.m(i,null),r(t,l),r(t,a),r(t,m),r(t,p),r(p,u),r(p,s),r(p,h),r(t,Q),r(t,S),r(S,w),r(S,T),r(S,P),r(t,V),r(t,b),r(b,E),r(b,j),r(b,c),r(b,_),r(b,x),r(b,g),r(b,I),r(b,v),r(b,J),r(b,re),r(t,ae),r(t,de),r(t,pe),r(t,Y),r(t,me),r(t,he),r(t,be),r(t,K),r(t,d),r(t,M),r(t,D),r(t,H),r(t,R),r(t,z),r(t,Z),r(t,le),r(t,ie),r(t,F),r(t,Se),r(t,we),U=!0,_e||(Qe=[te(a,"click",e[11]),te(K,"click",e[13]),te(H,"click",e[14]),te(F,"click",lt)],_e=!0)},p(N,A){N[9]!=null&&G.p(N,A),N[0][N[1]]?L?(L.p(N,A),A[0]&3&&ue(L,1)):(L=ke(N),L.c(),ue(L,1),L.m(i,null)):L&&(Xe(),Ce(L,1,1,()=>{L=null}),Ye()),(!U||A[0]&8)&&B(s,N[3]),(!U||A[0]&256)&&B(T,N[8]),(!U||A[0]&16)&&B(j,N[4]),(!U||A[0]&32)&&B(g,N[5]),(!U||A[0]&64)&&B(re,N[6])},i(N){U||(ue(L),U=!0)},o(N){Ce(L),U=!1},d(N){N&&k(t),G&&G.d(),L&&L.d(),_e=!1,oe(Qe)}}}function lt(){window.location.reload()}function it(e,t,n){let o,i=[],l=[],a=0,m=[],p=[],u=null,s=0,h=0,Q=0,S=0,w=[];const T=new URLSearchParams(window.location.search),P=T.get("listeQuestions"),V=T.get("rand"),b=T.get("p");let E,j,c=0;function _(){n(7,E=P.split(" ").length)}function x(){j=setInterval(()=>{n(8,c++,c)},1e3)}function g(){clearInterval(j)}function I(){if(P==null){document.querySelector(".accueil").innerHTML="<h1>Bienvenue !</h1> <br> <h3>Pour commencer, veuillez saisir une liste de question dans les paramètres de l'URL. <br> Voici par exemple un quiz contenant les question : 1,2,3,4 et 5 avec l'ordre d'affichage des questions randomnisées et sans pénalité : <br> <a href='https://phil1010.github.io/quizapp-exo7/?listeQuestions=1+2+3+4+5&rand=true&p=0'>https://phil1010.github.io/quizapp-exo7/?listeQuestions=1+2+3+4+5&rand=true&p=0</a> </h3> ",document.querySelector("#btnNext").style.display="none";return}i.push(...P.split(" ")),i=i.map(d=>parseInt(d))}function v(d){u=d}function J(){for(let d=l.length-1;d>0;d--){const M=Math.floor(Math.random()*(d+1));n(0,[l[d],l[M]]=[l[M],l[d]],l),n(2,[m[d],m[M]]=[m[M],m[d]],m),[p[d],p[M]]=[p[M],p[d]]}}async function re(){try{o=await(await fetch("https://raw.githubusercontent.com/Phil1010/quiz-exo7-stage2023/main/catalogue.json")).json(),ae()}catch(d){console.error("Erreur lors de la récupération des données :",d)}P!=null&&_()}Ue(()=>{re(),I()});function ae(){o&&(o.forEach((d,M)=>{if(i.includes(M)){const D={index:M,texte:d.texte};n(0,l=[...l,D]),n(2,m=[...m,d.reponses.map(H=>H.texte)]),p=[...p,d.reponses.map(H=>H.correct)]}}),V=="true"&&J())}function de(){if(n(1,a++,a),u==p[a-1].indexOf(!0))n(3,s++,s),n(4,h++,h);else if(u==null)n(6,S++,S);else{const d=s-Y/100;n(3,s=d),n(5,Q++,Q)}a==l.length&&(s<0&&n(3,s=0),n(3,s=s*20/l.length),pe()),w.push(m[a-1][u]),u=null}function pe(){document.querySelector(".score").style.display="",document.querySelector("#btnNext").style.display="none",document.querySelector("#btnRejouer").style.display="",document.querySelector(".timer").style.display="",document.querySelector(".detailsQuestions").style.display="",document.querySelector("#voirCorrection").style.display="",g()}let Y=0;if(b){const d=parseInt(b);!isNaN(d)&&d>=0&&d<=100?Y=d:console.error("Erreur lors de la récupération du pourcentage de pénalité :",b)}function me(){document.querySelector(".accueil").style.display="none",document.querySelector("#btnNext").style.display="",document.querySelector(".question").style.display="",document.querySelector("input").value,x()}function he(){be(),document.querySelector("#voirCorrection").style.display="none",document.querySelector("#cacherCorrection").style.display=""}function be(){var d=document.getElementById("ligneEnonceCompile"),M=document.createElement("table");M.style.borderCollapse="collapse";var D=M.insertRow(),H=D.insertCell();H.innerHTML="Questions",H.style.fontWeight="bold",H.style.border="1px solid white";var R=D.insertCell();R.innerHTML="Corrections",R.style.fontWeight="bold",R.style.border="1px solid white";var R=D.insertCell();R.innerHTML="Vos réponses",R.style.fontWeight="bold",R.style.border="1px solid white",l.forEach(z=>{var Z=M.insertRow(),le=Z.insertCell();le.innerHTML="Q."+[l.indexOf(z)+1]+"/"+E+" Id."+z.index+" : "+z.texte,le.style.border="1px solid white";var ie=Z.insertCell();ie.innerHTML=m[l.indexOf(z)][p[l.indexOf(z)].indexOf(!0)],ie.style.border="1px solid white";var F=Z.insertCell();F.innerHTML=w[l.indexOf(z)],F.style.border="1px solid white"}),d.appendChild(M),MathJax.typesetPromise([d]).catch(z=>console.error(z))}return[l,a,m,s,h,Q,S,E,c,P,v,de,me,he,()=>{document.querySelector("#voirCorrection").style.display="",document.querySelector("#cacherCorrection").style.display="none",document.querySelector("#ligneEnonceCompile").innerHTML=""}]}class st extends Re{constructor(t){super(),ze(this,t,it,rt,Pe,{},null,[-1,-1])}}new st({target:document.getElementById("app")});
