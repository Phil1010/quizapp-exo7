(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function re(){}function lt(t){return t()}function He(){return Object.create(null)}function $(t){t.forEach(lt)}function ot(t){return typeof t=="function"}function rt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dt(t){return Object.keys(t).length===0}function l(t,e){t.appendChild(e)}function F(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function de(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function _(){return g(" ")}function ht(){return g("")}function ne(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pt(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.data!==e&&(t.data=e)}function U(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let ie;function le(t){ie=t}function it(){if(!ie)throw new Error("Function called outside component initialization");return ie}function mt(t){it().$$.on_mount.push(t)}function _t(t){it().$$.after_update.push(t)}const Y=[],De=[];let Z=[];const Je=[],bt=Promise.resolve();let ge=!1;function gt(){ge||(ge=!0,bt.then(st))}function ye(t){Z.push(t)}const be=new Set;let X=0;function st(){if(X!==0)return;const t=ie;do{try{for(;X<Y.length;){const e=Y[X];X++,le(e),yt(e.$$)}}catch(e){throw Y.length=0,X=0,e}for(le(null),Y.length=0,X=0;De.length;)De.pop()();for(let e=0;e<Z.length;e+=1){const n=Z[e];be.has(n)||(be.add(n),n())}Z.length=0}while(Y.length);for(;Je.length;)Je.pop()();ge=!1,be.clear(),le(t)}function yt(t){if(t.fragment!==null){t.update(),$(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ye)}}function vt(t){const e=[],n=[];Z.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Z=e}const ae=new Set;let K;function qt(){K={r:0,c:[],p:K}}function St(){K.r||$(K.c),K=K.p}function oe(t,e){t&&t.i&&(ae.delete(t),t.i(e))}function ve(t,e,n,o){if(t&&t.o){if(ae.has(t))return;ae.add(t),K.c.push(()=>{ae.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Qt(t){t&&t.c()}function ut(t,e,n,o){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),o||ye(()=>{const h=t.$$.on_mount.map(lt).filter(ot);t.$$.on_destroy?t.$$.on_destroy.push(...h):$(h),t.$$.on_mount=[]}),r.forEach(ye)}function ct(t,e){const n=t.$$;n.fragment!==null&&(vt(n.after_update),$(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){t.$$.dirty[0]===-1&&(Y.push(t),gt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ft(t,e,n,o,i,r,h,p=[-1]){const m=ie;le(t);const s=t.$$={fragment:null,ctx:[],props:r,update:re,not_equal:i,bound:He(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:He(),dirty:p,skip_bound:!1,root:e.target||m.$$.root};h&&h(s.root);let u=!1;if(s.ctx=n?n(t,e.props||{},(d,c,...Q)=>{const f=Q.length?Q[0]:c;return s.ctx&&i(s.ctx[d],s.ctx[d]=f)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](f),u&&kt(t,d)),c}):[],s.update(),u=!0,$(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){const d=pt(e.target);s.fragment&&s.fragment.l(d),d.forEach(I)}else s.fragment&&s.fragment.c();e.intro&&oe(t.$$.fragment),ut(t,e.target,e.anchor,e.customElement),st()}le(m)}class at{$destroy(){ct(this,1),this.$destroy=re}$on(e,n){if(!ot(n))return re;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ke(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function Ge(t){let e,n,o,i,r=t[7]+"",h,p,m;return{c(){e=a("div"),n=a("input"),o=_(),i=a("label"),h=g(r),S(n,"type","checkbox"),S(n,"id","proposition"),S(n,"name","proposition"),n.value=t[9],S(i,"for",t[9]),S(e,"class","proposition")},m(s,u){F(s,e,u),l(e,n),l(e,o),l(e,i),l(i,h),p||(m=ne(n,"click",t[4]),p=!0)},p(s,u){u&4&&r!==(r=s[7]+"")&&M(h,r)},d(s){s&&I(e),p=!1,m()}}}function Et(t){let e,n,o,i,r,h,p,m,s,u,d=t[1].index+"",c,Q,f,C,T,H,V,L,P,A,N=t[2],k=[];for(let y=0;y<N.length;y+=1)k[y]=Ge(Ke(t,N,y));return{c(){e=a("main"),n=a("div"),o=a("h1"),i=g("Question "),r=g(t[0]),h=g("/"),p=g(t[3]),m=_(),s=a("h3"),u=g("id : "),c=g(d),Q=_(),f=a("div"),C=a("div"),T=_(),H=a("br"),V=_(),L=a("div");for(let y=0;y<k.length;y+=1)k[y].c();P=_(),A=a("br"),S(C,"id","questionTexte"),S(L,"class","propositions"),S(f,"class","enonce"),S(n,"class","question")},m(y,O){F(y,e,O),l(e,n),l(n,o),l(o,i),l(o,r),l(o,h),l(o,p),l(n,m),l(n,s),l(s,u),l(s,c),l(n,Q),l(n,f),l(f,C),l(f,T),l(f,H),l(f,V),l(f,L);for(let q=0;q<k.length;q+=1)k[q]&&k[q].m(L,null);l(L,P),l(L,A)},p(y,[O]){if(O&1&&M(r,y[0]),O&8&&M(p,y[3]),O&2&&d!==(d=y[1].index+"")&&M(c,d),O&20){N=y[2];let q;for(q=0;q<N.length;q+=1){const D=Ke(y,N,q);k[q]?k[q].p(D,O):(k[q]=Ge(D),k[q].c(),k[q].m(L,P))}for(;q<k.length;q+=1)k[q].d(1);k.length=N.length}},i:re,o:re,d(y){y&&I(e),de(k,y)}}}function wt(t,e,n){let{question:o}=e,{propositions:i}=e,{onSelectedValue:r}=e,{nbQuestions:h}=e,{cpt:p=0}=e;function m(u){const d=u.target.value;r(d)}function s(){var u=document.getElementById("questionTexte");u.innerHTML=o.texte,MathJax.typesetPromise([u]).catch(d=>console.error(d))}return _t(()=>{s(),document.querySelectorAll("input[type=checkbox]").forEach(u=>{u.checked=!1}),n(0,p++,p)}),t.$$set=u=>{"question"in u&&n(1,o=u.question),"propositions"in u&&n(2,i=u.propositions),"onSelectedValue"in u&&n(5,r=u.onSelectedValue),"nbQuestions"in u&&n(3,h=u.nbQuestions),"cpt"in u&&n(0,p=u.cpt)},[p,o,i,h,m,r]}class Ct extends at{constructor(e){super(),ft(this,e,wt,Et,rt,{question:1,propositions:2,onSelectedValue:5,nbQuestions:3,cpt:0})}}function We(t,e,n){const o=t.slice();return o[33]=e[n],o}function Xe(t,e,n){const o=t.slice();return o[36]=e[n],o}function Ye(t,e,n){const o=t.slice();return o[39]=e[n],o}function Ze(t){let e,n;return e=new Ct({props:{question:t[0][t[1]],propositions:t[2][t[1]],onSelectedValue:t[11],nbQuestions:t[0].length}}),{c(){Qt(e.$$.fragment)},m(o,i){ut(e,o,i),n=!0},p(o,i){const r={};i[0]&3&&(r.question=o[0][o[1]]),i[0]&6&&(r.propositions=o[2][o[1]]),i[0]&1&&(r.nbQuestions=o[0].length),e.$set(r)},i(o){n||(oe(e.$$.fragment,o),n=!0)},o(o){ve(e.$$.fragment,o),n=!1},d(o){ct(e,o)}}}function $e(t){let e,n,o,i,r,h,p,m=t[0],s=[];for(let c=0;c<m.length;c+=1)s[c]=et(Ye(t,m,c));let u=t[3],d=[];for(let c=0;c<u.length;c+=1)d[c]=nt(We(t,u,c));return{c(){e=a("div"),n=a("br"),o=_(),i=a("table"),r=a("tr");for(let c=0;c<s.length;c+=1)s[c].c();h=_(),p=a("tr");for(let c=0;c<d.length;c+=1)d[c].c();S(i,"class","corrections-table svelte-nnd69e"),S(e,"class","details")},m(c,Q){F(c,e,Q),l(e,n),l(e,o),l(e,i),l(i,r);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(r,null);l(i,h),l(i,p);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(p,null)},p(c,Q){if(Q[0]&1){m=c[0];let f;for(f=0;f<m.length;f+=1){const C=Ye(c,m,f);s[f]?s[f].p(C,Q):(s[f]=et(C),s[f].c(),s[f].m(r,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=m.length}if(Q[0]&12){u=c[3];let f;for(f=0;f<u.length;f+=1){const C=We(c,u,f);d[f]?d[f].p(C,Q):(d[f]=nt(C),d[f].c(),d[f].m(p,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=u.length}},d(c){c&&I(e),de(s,c),de(d,c)}}}function et(t){let e,n,o=t[39].index+"",i,r;return{c(){e=a("th"),n=g("Q."),i=g(o),r=_(),S(e,"class","svelte-nnd69e")},m(h,p){F(h,e,p),l(e,n),l(e,i),l(e,r)},p(h,p){p[0]&1&&o!==(o=h[39].index+"")&&M(i,o)},d(h){h&&I(e)}}}function Nt(t){let e;return{c(){e=a("span"),e.textContent="✘",S(e,"class","mauvaise-reponse svelte-nnd69e")},m(n,o){F(n,e,o)},d(n){n&&I(e)}}}function xt(t){let e;return{c(){e=a("span"),e.textContent="✔",S(e,"class","bonne-reponse svelte-nnd69e")},m(n,o){F(n,e,o)},d(n){n&&I(e)}}}function tt(t){let e;function n(r,h){return r[36]?xt:Nt}let o=n(t),i=o(t);return{c(){i.c(),e=ht()},m(r,h){i.m(r,h),F(r,e,h)},p(r,h){o!==(o=n(r))&&(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&I(e)}}}function nt(t){let e,n=t[2][t[3].indexOf(t[33])]+"",o,i,r,h,p,m=t[33],s=[];for(let u=0;u<m.length;u+=1)s[u]=tt(Xe(t,m,u));return{c(){e=a("td"),o=g(n),i=_(),r=a("br"),h=_();for(let u=0;u<s.length;u+=1)s[u].c();p=_(),S(e,"class","cell svelte-nnd69e")},m(u,d){F(u,e,d),l(e,o),l(e,i),l(e,r),l(e,h);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);l(e,p)},p(u,d){if(d[0]&12&&n!==(n=u[2][u[3].indexOf(u[33])]+"")&&M(o,n),d[0]&8){m=u[33];let c;for(c=0;c<m.length;c+=1){const Q=Xe(u,m,c);s[c]?s[c].p(Q,d):(s[c]=tt(Q),s[c].c(),s[c].m(e,p))}for(;c<s.length;c+=1)s[c].d(1);s.length=m.length}},d(u){u&&I(e),de(s,u)}}}function Lt(t){let e,n,o,i,r,h,p,m,s,u,d,c,Q,f,C,T,H,V,L,P,A,N,k,y,O,q,D,ee,se,ue,j,ce,te,fe,b,v,J,B,qe,Se,Qe,he,ke,Ee,we,pe,Ce,Ne,xe,me,Le,Pe,Oe,G,Me,je,ze,Ie,Te,W,Ve,Ae,Be,Re,Fe,R,_e,Ue,E=t[0][t[1]]&&Ze(t),x=t[8]&&$e(t);return{c(){e=a("main"),n=a("div"),o=a("h1"),o.textContent="Bienvenue !",i=_(),r=a("h3"),h=g("Le quiz contient "),p=g(t[10]),m=g(" questions. "),s=a("br"),u=g(`
      Si vous etes prêt appuyez sur le bouton commencer !`),d=g(`

    Entrez votre pseudo (facultatif)
    `),c=a("br"),Q=_(),f=a("input"),C=_(),T=a("br"),H=_(),V=a("br"),L=_(),P=a("button"),P.textContent="Commencer",A=_(),N=a("div"),E&&E.c(),k=_(),y=a("button"),y.textContent="Next",O=_(),q=a("div"),D=g("Score : "),ee=g(t[4]),se=g(" / 20"),ue=_(),j=a("div"),ce=g("Temps: "),te=g(t[9]),fe=g("s"),b=_(),v=a("div"),J=g("Nombre de bonne réponse : "),B=g(t[5]),qe=_(),Se=a("br"),Qe=g(` Nombre de mauvaise
    réponse : `),he=g(t[6]),ke=_(),Ee=a("br"),we=g(" Nombre de question sauté : "),pe=g(t[7]),Ce=_(),Ne=a("br"),xe=_(),me=a("div"),Le=_(),Pe=a("br"),Oe=_(),G=a("button"),G.textContent="Voir le corrigé",Me=_(),je=a("br"),ze=_(),Ie=a("br"),Te=_(),W=a("button"),W.textContent="Rejouer",Ve=_(),Ae=a("div"),Be=_(),Re=a("br"),Fe=_(),x&&x.c(),S(f,"type","text"),U(f,"border-radius","5%"),S(f,"maxlength","15"),S(P,"id","btnStart"),S(n,"class","accueil"),S(N,"class","question"),U(N,"display","none"),S(y,"id","btnNext"),U(y,"display","none"),S(q,"class","score"),U(q,"display","none"),S(j,"class","timer"),U(j,"display","none"),S(v,"class","detailsQuestions"),U(v,"display","none"),S(me,"id","ligneEnonceCompile"),S(G,"id","voirCorrection"),U(G,"display","none"),S(W,"id","btnRejouer"),U(W,"display","none")},m(w,z){F(w,e,z),l(e,n),l(n,o),l(n,i),l(n,r),l(r,h),l(r,p),l(r,m),l(r,s),l(r,u),l(n,d),l(n,c),l(n,Q),l(n,f),l(n,C),l(n,T),l(n,H),l(n,V),l(n,L),l(n,P),l(e,A),l(e,N),E&&E.m(N,null),l(e,k),l(e,y),l(e,O),l(e,q),l(q,D),l(q,ee),l(q,se),l(e,ue),l(e,j),l(j,ce),l(j,te),l(j,fe),l(e,b),l(e,v),l(v,J),l(v,B),l(v,qe),l(v,Se),l(v,Qe),l(v,he),l(v,ke),l(v,Ee),l(v,we),l(v,pe),l(e,Ce),l(e,Ne),l(e,xe),l(e,me),l(e,Le),l(e,Pe),l(e,Oe),l(e,G),l(e,Me),l(e,je),l(e,ze),l(e,Ie),l(e,Te),l(e,W),l(e,Ve),l(e,Ae),l(e,Be),l(e,Re),l(e,Fe),x&&x.m(e,null),R=!0,_e||(Ue=[ne(P,"click",t[13]),ne(y,"click",t[12]),ne(G,"click",t[14]),ne(W,"click",Pt)],_e=!0)},p(w,z){w[0][w[1]]?E?(E.p(w,z),z[0]&3&&oe(E,1)):(E=Ze(w),E.c(),oe(E,1),E.m(N,null)):E&&(qt(),ve(E,1,1,()=>{E=null}),St()),(!R||z[0]&16)&&M(ee,w[4]),(!R||z[0]&512)&&M(te,w[9]),(!R||z[0]&32)&&M(B,w[5]),(!R||z[0]&64)&&M(he,w[6]),(!R||z[0]&128)&&M(pe,w[7]),w[8]?x?x.p(w,z):(x=$e(w),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i(w){R||(oe(E),R=!0)},o(w){ve(E),R=!1},d(w){w&&I(e),E&&E.d(),x&&x.d(),_e=!1,$(Ue)}}}function Pt(){window.location.reload()}function Ot(t,e,n){let o,i=[],r=[],h=0,p=[],m=[],s=null,u=0,d=0,c=0,Q=0,f=!1;const C=new URLSearchParams(window.location.search),T=C.get("listeQuestions"),H=C.get("rand"),V=C.get("p");let L=T.split(" ").length,P,A=0;function N(){P=setInterval(()=>{n(9,A++,A)},1e3)}function k(){clearInterval(P)}function y(){if(T==null){document.querySelector(".question").innerHTML="<h1>Bienvenue !</h1> <br> <h3>Pour commencer, veuillez saisir une liste de question dans les paramètres de l'URL. <br> Voici par exemple un quiz contenant les question : 1,2,3,4 et 5 avec l'ordre d'affichage des questions randomnisées : <br> <a href='https://phil1010.github.io/quizapp-exo7/?listeQuestions=1,2,3,4,5&rand=true'>https://phil1010.github.io/quizapp-exo7/?listeQuestions=1,2,3,4,5&rand=true</a> </h3> ",document.querySelector("#btnNext").style.display="none";return}i.push(...T.split(" ")),i=i.map(b=>parseInt(b))}function O(b){s=b}function q(){for(let b=r.length-1;b>0;b--){const v=Math.floor(Math.random()*(b+1));n(0,[r[b],r[v]]=[r[v],r[b]],r),n(2,[p[b],p[v]]=[p[v],p[b]],p),n(3,[m[b],m[v]]=[m[v],m[b]],m)}}async function D(){try{o=await(await fetch("https://raw.githubusercontent.com/Phil1010/quiz-exo7-stage2023/main/catalogue.json")).json(),ee()}catch(b){console.error("Erreur lors de la récupération des données :",b)}}mt(()=>{D(),y()});function ee(){o&&(o.forEach((b,v)=>{if(i.includes(v)){const J={index:v,texte:b.texte};n(0,r=[...r,J]),n(2,p=[...p,b.reponses.map(B=>B.texte)]),n(3,m=[...m,b.reponses.map(B=>B.correct)])}}),H=="true"&&q())}function se(){if(n(1,h++,h),s==m[h-1].indexOf(!0))n(4,u++,u),n(5,d++,d);else if(s==null)n(7,Q++,Q);else{const b=u-j/100;n(4,u=b),n(6,c++,c)}h==r.length&&(u<0&&n(4,u=0),n(4,u=u*20/r.length),ue())}function ue(){document.querySelector(".score").style.display="",document.querySelector("#btnNext").style.display="none",document.querySelector("#btnRejouer").style.display="",document.querySelector(".timer").style.display="",document.querySelector(".detailsQuestions").style.display="",document.querySelector("#voirCorrection").style.display="",k(),fe()}let j=0;if(V){const b=parseInt(V);!isNaN(b)&&b>=0&&b<=100?j=b:console.error("Erreur lors de la récupération du pourcentage de pénalité :",V)}function ce(){document.querySelector(".accueil").style.display="none",document.querySelector("#btnNext").style.display="",document.querySelector(".question").style.display="",document.querySelector("input").value,N()}function te(){n(8,f=!0)}function fe(){var b=document.getElementById("ligneEnonceCompile");r.forEach(v=>{var J=document.createElement("enonceCompile"+v.index);J.innerHTML="Q."+v.index+" : "+v.texte+"<br>",b.appendChild(J),MathJax.typesetPromise([b]).catch(B=>console.error(B))})}return[r,h,p,m,u,d,c,Q,f,A,L,O,se,ce,te]}class Mt extends at{constructor(e){super(),ft(this,e,Ot,Lt,rt,{},null,[-1,-1])}}new Mt({target:document.getElementById("app")});
